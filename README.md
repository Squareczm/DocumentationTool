# 🤖 智能文件整理助手 v2.0

一款基于大语言模型的智能文档分类与归档系统，支持**27+类别**的全自动文档分类，真正实现"拖放即归档"的无缝体验。

[![Python](https://img.shields.io/badge/Python-3.8%2B-blue)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-MIT-green)](LICENSE)
[![Status](https://img.shields.io/badge/Status-Production%20Ready-brightgreen)](/)
[![Version](https://img.shields.io/badge/Version-2.0.0-orange)](/)

## ✨ 核心特性

### 🧠 AI驱动的智能分类
- **深度内容理解**：基于大语言模型分析文档内容
- **语义相似性匹配**：通过关键词密度和优先级权重系统精准分类
- **多语言支持**：中文、英文、日文无缝处理
- **自学习能力**：自动适应现有文件夹结构

### 📁 27+全覆盖分类体系
- **企业办公 (15类)**：技术开发、运维管理、项目管理、数据分析、质量管理、供应链管理等
- **个人生活 (12类)**：个人财务、健康医疗、旅行出行、社交网络、数字生活、环保可持续等
- **完整覆盖**：从专业工作到日常生活的全方位分类支持
- **持续扩展**：支持行业特定分类和自定义扩展

### 🛡️ 三层防护系统
```
关键词匹配 → 语义分析匹配 → 智能回退策略
```
确保每个文档都能找到合适的归档位置，**完全避免文件夹爆炸**

### 🏗️ 企业级配置架构
- **版本化配置**：支持配置版本控制和迁移
- **模板继承系统**：多层次文件夹模板和组织策略
- **性能优化**：缓存、并发处理、批量优化
- **监控统计**：使用跟踪、性能监控、智能报告

### 🔧 零代码扩展性
- **配置化分类规则**：通过 YAML 配置轻松扩展
- **动态模板生成**：基于使用模式自动优化
- **行业扩展**：医疗、教育、法律、金融等专业领域支持
- **插件系统**：自定义分类器和处理逻辑

## 🚀 快速开始

### 📋 前提条件
- ✅ Python 3.8 或更高版本
- ✅ 网络连接（用于API调用）
- ✅ LLM API密钥（OpenAI、DeepSeek等）

### 安装配置

```bash
# 1. 克隆项目
git clone https://github.com/Squareczm/DocumentationToolUpdated
cd DocumentationToolUpdated

# 2. 安装依赖
pip install -r requirements.txt

# 3. 配置API密钥
# Windows用户：
copy config.example.yaml config.yaml
# Linux/Mac用户：
# cp config.example.yaml config.yaml
```

**推荐完整配置（以DeepSeek为例）：**
```yaml
llm:
  provider: "openai"
  api_key: "sk-1234567890abcdef..."  # 请替换为您的真实API密钥
  base_url: "https://api.deepseek.com/v1"
  model: "deepseek-chat"
  timeout: 30
```

**获取API密钥：**
- 🔗 **DeepSeek（推荐）**：https://platform.deepseek.com/api_keys
- 🔗 **OpenAI**：https://platform.openai.com/api-keys

**配置方式：**

**方式1：编辑配置文件（推荐新手）**
```yaml
# 用文本编辑器打开 config.yaml，完整配置如上所示
```

**方式2：仅设置环境变量（高级用户）**
```bash
# Windows: set SMARTFILEORG_LLM_API_KEY=你的API密钥
# Linux/Mac: export SMARTFILEORG_LLM_API_KEY=你的API密钥
# 注意：使用环境变量时，仍需在config.yaml中正确配置base_url和model
```

**4. 环境检查**
```bash
python main.py --check
```

### 开始使用

#### 方式1：拖放文件处理（最简单）
1. **将文件放入inbox文件夹** - 将待处理的文档拖放到`inbox/`文件夹中
2. **运行处理命令** - `python main.py`
3. **确认处理** - 程序会显示处理计划，确认后自动执行

#### 方式2：自动监控模式（实时处理）
```bash
python main.py --watch
```

#### 方式3：批量处理
```bash
# 自动确认模式
python main.py -y

# 处理指定文件夹
python main.py -f "/path/to/documents"
```

## 📊 智能分类系统 2.0

### 🏢 企业办公类 (15类)

| 分类 | 关键词示例 | 目标文件夹 | 新增特性 |
|------|------------|------------|----------|
| **技术开发** | 编程、AI、算法、架构 | 技术方案、AI研究 | 支持全栈开发 |
| **运维管理** | DevOps、容器、监控 | 容器化部署、系统监控 | 云原生支持 |
| **项目管理** | 敏捷、Scrum、里程碑 | 项目文档、风险管理 | 现代项目方法 |
| **业务流程** | SOP、ISO、合规 | 流程规范、合规文档 | 标准化流程 |
| **人力资源** | 招聘、绩效、薪酬 | 员工培训、薪酬福利 | 完整HR体系 |
| **财务管理** | 预算、审计、风控 | 财务报告、审计报告 | 现代财务管理 |
| **会议沟通** | 会议、决策、协调 | 会议纪要、决策记录 | 高效沟通 |
| **法律合规** | 合同、知识产权、NDA | 法律文档、知识产权 | 知识产权保护 |
| **产品设计** | UI/UX、原型、品牌 | 产品设计、设计规范 | 现代设计体系 |
| **营销推广** | 增长、转化、KPI | 营销文档、增长策略 | 数字化营销 |
| **数据分析** ⭐ | BI、可视化、洞察 | 数据分析、商业智能 | **新增分类** |
| **质量管理** ⭐ | QA、测试、ISO | 质量管理、测试文档 | **新增分类** |
| **供应链管理** ⭐ | 采购、物流、库存 | 供应链管理、采购文档 | **新增分类** |
| **客户服务** ⭐ | CRM、售后、支持 | 客户服务、知识库 | **新增分类** |
| **学习成长** | 培训、认证、知识分享 | 培训资料、技能认证 | 职业发展 |

### 🏠 个人生活类 (12类)

| 分类 | 关键词示例 | 目标文件夹 | 新增特性 |
|------|------------|------------|----------|
| **个人财务** | 理财、投资、保险 | 个人财务、理财投资 | 全面财务管理 |
| **生活记录** | 日记、心情、回忆 | 生活记录、人生思考 | 情感记录 |
| **健康医疗** | 体检、健身、营养 | 健康医疗、运动记录 | 健康管理 |
| **旅行出行** | 攻略、游记、签证 | 旅行出行、旅行规划 | 智能行程 |
| **兴趣爱好** | 收藏、摄影、手工 | 兴趣爱好、个人创作 | 多样化爱好 |
| **家庭生活** | 育儿、装修、亲子 | 家庭生活、亲子活动 | 家庭管理 |
| **求职职业** | 简历、面试、职规 | 求职职业、职业发展 | 职业规划 |
| **教育培训** | 课程、考试、学历 | 教育培训、认证考试 | 终身学习 |
| **创作写作** | 博客、小说、素材 | 创作写作、作品集 | 创意管理 |
| **社交网络** ⭐ | 社交媒体、社区 | 社交网络、网络分享 | **新增分类** |
| **数字生活** ⭐ | 云服务、数字资产 | 数字生活、账号管理 | **新增分类** |
| **环保可持续** ⭐ | 环保、绿色生活 | 环保可持续、生态保护 | **新增分类** |

## 🌟 使用示例

### 处理前
```
inbox/
├── 区块链技术白皮书.pdf
├── 2025年数据分析报告.xlsx
├── 环保生活指南.md
├── 社交媒体运营策略.docx
└── 供应链优化方案.pptx
```

### 处理后
```
knowledge_base/
├── 技术开发/区块链技术/
│   └── 区块链技术白皮书_20250530_v1.0.pdf
├── 数据分析/商业智能/
│   └── 年度数据分析报告_20250530_v1.0.xlsx
├── 环保可持续/绿色生活/
│   └── 环保生活实践指南_20250530_v1.0.md
├── 营销推广/用户运营/
│   └── 社交媒体运营策略_20250530_v1.0.docx
└── 供应链管理/供应链优化/
    └── 供应链优化解决方案_20250530_v1.0.pptx
```

## 🎯 高级功能

### 🤖 智能文件夹创建 2.0

**增强的决策引擎**：
```
内容分析 → 多维度匹配 → 置信度评估 → 智能决策 → 自适应学习
```

**智能决策逻辑**：
- **高置信度 + 无匹配** → 基于 `target_patterns` 创建新文件夹
- **中等置信度** → 提供多个建议选项
- **低置信度** → 使用智能回退策略
- **学习反馈** → 根据用户选择优化后续决策

#### 实际示例

**新兴技术文档**：
```
输入：ChatGPT应用开发指南.pdf
分析：关键词["ChatGPT", "AI", "应用", "开发"] → 技术开发类别（置信度0.88）
决策：创建 knowledge_base/技术开发/AI研究/
学习：记录用户确认，提升AI相关文档的识别准确率
```

**现代工作流文档**：
```
输入：敏捷开发最佳实践.md
分析：关键词["敏捷", "开发", "实践", "流程"] → 项目管理类别（置信度0.85）
决策：创建 knowledge_base/项目管理/敏捷开发/
优化：同时更新技术开发类别的相关权重
```

### 🏗️ 企业级配置系统

#### 配置架构 2.0
```
config/
├── classification_rules.yaml    # 🧠 核心分类规则（27+类别）
├── folder_templates.yaml       # 📂 智能文件夹模板
├── config.yaml                 # ⚙️ 主配置文件
├── README.md                   # 📖 完整配置文档
└── industries/                 # 🏢 行业扩展
    ├── medical_rules.yaml      # 医疗行业
    ├── education_rules.yaml    # 教育行业
    ├── legal_rules.yaml        # 法律行业
    └── finance_rules.yaml      # 金融行业
```

#### 模板继承系统
```yaml
# 支持多层次模板继承
template_inheritance:
  resolution_order:
    - "specific_template"  # 具体文件类型
    - "category_template"  # 分类模板
    - "base_template"      # 基础模板
  
  merge_strategy:
    structure: "extend"      # 结构扩展
    organization: "override" # 组织覆盖
```

#### 多组织策略
- **按时间组织**：年度/季度/月度归档
- **按项目组织**：项目生命周期管理
- **按优先级组织**：重要性和紧急程度
- **按状态组织**：工作流状态跟踪

### 配置化扩展

需要支持新的文档类型？只需编辑配置文件：

```yaml
# config/classification_rules.yaml
classification_rules:
  区块链技术:
    description: "区块链、加密货币、Web3等相关文档"
    keywords:
      - 区块链 - 比特币 - 以太坊 - 智能合约 - DeFi
      - Web3 - NFT - 去中心化 - 共识算法
    target_patterns:
      - 区块链技术 - 加密货币 - DeFi研究
    priority: 12
    file_types: [".pdf", ".md", ".docx"]
```

### 自定义命名规则

```bash
# 使用自定义版本格式
python main.py --version-format "semantic"  # v1.0.1

# 自定义日期格式
python main.py --date-format "%Y-%m-%d"

# 自定义组织策略
python main.py --organization-strategy "by_project"
```

## 📈 性能与兼容性

### 支持格式
- **文档**：.docx, .doc, .pdf, .txt, .md
- **表格**：.xlsx, .xls, .csv
- **演示**：.pptx, .ppt
- **其他**：自动识别文本内容

### 性能指标
- **分类准确率**：>97%（v2.0提升）
- **处理速度**：~80文档/分钟（并发优化）
- **内存占用**：<150MB（缓存优化）
- **多语言支持**：中文、英文、日文

### LLM提供商支持
- **OpenAI**：GPT-3.5/GPT-4
- **DeepSeek**：DeepSeek-Chat（推荐）
- **Anthropic**：Claude系列
- **智谱AI**：GLM系列
- **其他**：支持OpenAI兼容接口

## 🔧 常用命令

```bash
# 基本使用
python main.py                    # 交互式处理
python main.py -y                 # 自动确认
python main.py --watch            # 监控模式

# 高级选项
python main.py --check            # 环境检查
python main.py --dry-run          # 预览模式
python main.py -f "path"          # 指定文件夹

# 配置管理
python main.py --validate-config  # 配置验证
python main.py --migrate-config   # 配置迁移
python main.py --backup-config    # 配置备份

# 性能分析
python main.py --profile          # 性能分析
python main.py --memory-profile   # 内存分析
```

## ⚡ 快速测试

```bash
# 创建测试文件
# Windows (cmd):
echo # 2025年理财规划 > inbox/理财计划.md
echo # 项目启动会议纪要 > inbox/会议纪要.md
echo # Docker容器化部署指南 > inbox/技术文档.md

# Linux/Mac:
# echo "# 2025年理财规划" > inbox/理财计划.md
# echo "# 项目启动会议纪要" > inbox/会议纪要.md
# echo "# Docker容器化部署指南" > inbox/技术文档.md

# 运行处理
python main.py -y
```

## 📚 更多文档

- **[配置指南](config/README.md)** - 详细的配置说明和最佳实践
- **[扩展性指南](SCALABILITY_GUIDE.md)** - 深入了解扩展能力和开发指导
- **[配置示例](config.example.yaml)** - 完整的配置文件参考
- **[行业扩展](config/industries/)** - 医疗、教育、法律等行业配置

## 🆕 最新更新 (v2.0.0)

### 🚀 重大升级
- **分类体系扩展**：从20类扩展到27类，新增数据分析、质量管理、供应链管理等
- **企业级配置架构**：版本控制、模板继承、性能优化、监控统计
- **智能文件夹创建2.0**：增强的决策引擎和自适应学习能力
- **多组织策略**：时间、项目、优先级、状态等多维度组织方式

### 🔧 配置系统重构
- **配置验证系统**：语法检查、完整性验证、冲突检测
- **动态模板生成**：基于使用模式的智能优化
- **行业扩展支持**：医疗、教育、法律、金融等专业领域
- **插件系统**：支持自定义分类器和处理逻辑

### 💡 用户体验优化
- **更智能的分类**：97%准确率，支持新兴技术和现代工作流
- **更灵活的组织**：多种文件夹组织策略，适应不同使用场景
- **更强的扩展性**：零代码配置扩展，支持快速定制
- **更好的性能**：并发处理、缓存优化、内存管理

### 🎯 功能增强
- **环保可持续分类**：支持绿色生活、环保行动等现代生活理念
- **数字生活管理**：云服务、数字资产、在线服务等数字化文档
- **社交网络支持**：社交媒体、网络互动、在线社区等内容
- **现代工作流**：敏捷开发、DevOps、数据驱动等现代工作方式

## 🤝 贡献

欢迎提交Issue和Pull Request！

## 📄 许可证

本项目基于 [MIT许可证](LICENSE) 开源。
